netjs.collections=function(){"use strict";var a=netjs.collections||{};return a}(),netjs.collections.IComparer=function(a){"use strict";var b=new a.Interface("IComparer",["compare"]);return b}(netjs),netjs.collections.IEqualityComparer=function(a){"use strict";var b=new a.Interface("IEqualityComparer",["equals","getHashCode"]);return b}(netjs),netjs.collections.IEnumerator=function(a){"use strict";var b=new a.Interface("IEnumerator",["current","next","reset"]);return b}(netjs),netjs.collections.IEnumerable=function(a){"use strict";var b=new a.Interface("IEnumerable",["enumerator"]);return b}(netjs),netjs.collections.ICollection=function(a){"use strict";var b=new a.Interface("ICollection",["copyTo","count"]);return b=a.Interface.extendInterface(b,a.collections.IEnumerable)}(netjs),netjs.collections.IList=function(a){"use strict";var b=new a.Interface("IList",["add","clear","contains","getItem","indexOf","insert","remove","removeAt","setItem"]);return b=a.Interface.extendInterface(b,a.collections.ICollection,a.collections.IEnumerable)}(netjs),netjs.collections.IDictionary=function(a){"use strict";var b=new a.Interface("IDictionary",["keys","values","getItem","setItem","add","clear","contains","remove"]);return b=a.Interface.extendInterface(b,a.collections.ICollection,a.collections.IEnumerable)}(netjs),netjs.collections.IDictionaryEnumerator=function(a){"use strict";var b=new a.Interface("IDictionaryEnumerator",["entry","key","value"]);return b=a.Interface.extendInterface(b,a.collections.IEnumerator)}(netjs),netjs.collections.ArrayEnumerator=function(a){"use strict";var b=function(a){this.source=a,this.index=-1};return b.prototype.current=function(){var a=this;if(-1===a.index)return window.missingVariable;if(a.index>=a.source.length)throw new Error("InvalidEnumeratorPosistion");return a.source[a.index]},b.prototype.next=function(){var a=this;return a.index+=1,a.index>-1&&a.index<a.source.length},b.prototype.reset=function(){var a=this;a.index=-1},b.ensureImplements(a.collections.IEnumerator),b}(netjs),netjs.collections.Comparer=function(a,b){"use strict";var c=function(){};c.prototype.compare=function(c,d){if(a.isString(c)&&a.isString(d))return c.localeCompare(d);if(a.isNumber(c)&&a.isNumber(d))return c-d;if(a.isBoolean(c)&&a.isBoolean(d))return c===d?0:c&&!d?1:-1;if(a.isDate(c)&&a.isDate(d))return c-d;if(a.isObject(c)&&a.isObject(d))return b.Interface.ensureImplements(c,b.IComparable),c.compareTo(d);throw new Error("Objects can not be compared")},c.isType("Comparer"),c.ensureImplements(b.collections.IComparer);var d=new c;return c.Default=d,c}(_,netjs),netjs.collections.EqualityComparer=function(a){"use strict";var b=function(){};b.prototype.hashEquals=function(a,b){var c=this;return c.getHashCode(a)===c.getHasCode(b)},b.prototype.equals=function(b,c){return _.isObject(b)&&!a.Util.isUndefined(b.equals)?b.equals(c):a.Class.prototype.isEqual.call(b,c)},b.prototype.getHashCode=function(b){if(a.Util.isString(b)){for(var c=0,d=0;d<b.length;++d)c+=b.charCodeAt(d);return c}if(a.Util.isNumber(b))return Math.round(b);if(a.Util.isBoolean(b))return b?1:0;if(a.Util.isDate(b))return b.getTime();if(a.Util.isObject(b)&&!_.isUndefined(b.getHashCode))return b.getHashCode();throw new Error("Cannot get hash code for object")},b.ensureImplements(a.collections.IEqualityComparer);var c=new b;return b.Default=c,b}(netjs),netjs.collections.CollectionBase=function(a){"use strict";var b=function c(){if(!c._isBase)throw new Error("Can't instantiate abstract classes");var b=Array.prototype.slice.call(arguments);return c._parent.constructor.apply(this,b),this._list=new a.collections.ArrayList,c._isBase?this:a.Util.proxy(this)};return b.inheritsFrom(a.Class).isType("CollectionBase"),b.prototype.enumerator=function(){var a=this;return a._list.enumerator()},b.prototype.copyTo=function(a,b){var c=this;c._list.copyTo(a,b)},b.prototype.count=function(){var a=this;return a._list.count()},b.prototype.add=function(a){var b=this,c=b.count();return b.insert(c,a),c},b.prototype.clear=function(){var a=this;a.onClear(),a._list.clear(),a.onClearComplete()},b.prototype.contains=function(a){var b=this;return b._list.contains(a)},b.prototype.getItem=function(a){var b=this;return b._list.getItem(a)},b.prototype.indexOf=function(a){var b=this;return b._list.indexOf(a)},b.prototype.insert=function(a,b){var c=this;c.onValidate(b),c.onInsert(a,b),c._list.insert(a,b),c.onInsertComplete(a,b)},b.prototype.remove=function(a){var b,c=this;b=c.indexOf(a),c.onValidate(a),c.onRemove(b,a),c._list.remove(a),c.onRemoveComplete(b,a)},b.prototype.removeAt=function(a){var b,c=this;b=c.getItem(a),c.onValidate(b),c.onRemove(a,b),c._list.removeAt(a),c.onRemoveComplete(a,b)},b.prototype.setItem=function(a,b){var c,d=this;c=d.getItem(a),d.onValidate(b),d.onSet(a,c,b),d._list.setItem(a,b),d.onSetComplete(a,c,b)},b.prototype.onClear=function(){},b.prototype.onClearComplete=function(){},b.prototype.onInsert=function(){},b.prototype.onInsertComplete=function(){},b.prototype.onRemove=function(){},b.prototype.onRemoveComplete=function(){},b.prototype.onSet=function(){},b.prototype.onSetComplete=function(){},b.prototype.onValidate=function(){},b.ensureImplements(a.collections.IList,a.collections.ICollection,a.collections.IEnumerable),b}(netjs),netjs.collections.ArrayList=function(a,b,c){"use strict";var d=function e(a){var d;return d=Array.prototype.slice.call(arguments),e._parent.constructor.apply(this,d),this._list=a||[],this._equalityComparer=c,e._isBase?this:b.Util.proxy(this)};return d.inheritsFrom(b.Class).isType("ArrayList"),d.prototype.enumerator=function(){var a=this;return new b.collections.ArrayEnumerator(a._list)},d.prototype.copyTo=function(b,c){var d=this;a.isUndefined(c)&&(c=0);for(var e=0;e<d._list.length;++e)b[c+e]=d._list[e]},d.prototype.count=function(){var a=this;return a._list.length},d.prototype.add=function(a){var b=this;b._list.push(a)},d.prototype.clear=function(){var a=this;delete a._list,a._list=[]},d.prototype.contains=function(a){var b=this;return b.indexOf(a)>-1},d.prototype.getItem=function(a){var b=this;if(a>-1&&a<b.count())return b._list[a];throw new Error("ArgumentOutOfRangeException")},d.prototype.indexOf=function(c){var d,e=this;if(e.count()>0&&(d=e.enumerator(),!a.isUndefined(d)))if(b.Interface.ensureImplements(d,b.collections.IEnumerator),a.isNull(c)){for(;d.next();)if(a.isNull(d.current()))return d.index}else for(;d.next();)if(e._equalityComparer.equals(d.current(),c))return d.index;return-1},d.prototype.insert=function(a,b){var c=this;if(a===c.count())c._list.push(b);else{if(!(a>-1&&a<c.count()))throw new Error("ArgumentOutOfRangeException");var d=c._list.slice(0,a),e=[b],f=c._list.slice(a);c._list=d.concat(e).concat(f)}},d.prototype.remove=function(a){var b,c=this;if(b=c.indexOf(a),!(b>-1&&b<c.count()))throw new Error("ArgumentException");c.removeAt(b)},d.prototype.removeAt=function(a){var b=this;if(!(a>-1&&a<b.count()))throw new Error("ArgumentOutOfRangeException");b._list.splice(a,1)},d.prototype.setItem=function(a,b){var c=this;if(!(a>-1&&a<c.count()))throw new Error("ArgumentOutOfRangeException");c._list[a]=b},d.prototype.getRange=function(a,b){var c=this;if(a>-1&&b<c.count()){var e=c._list.slice(a,b);return new d(e)}throw new Error("ArgumentOutOfRangeException")},d.prototype.toArray=function(){var a=this;return a._list},d.ensureImplements(b.collections.IList,b.collections.ICollection,b.collections.IEnumerable),d}(_,netjs,netjs.collections.EqualityComparer.Default),netjs.collections.Hashtable=function(a,b,c,d){"use strict";var e=function f(d){var e;return e=Array.prototype.slice.call(arguments),f._parent.constructor.apply(this,e),this._equalityComparer=a.isUndefined(d)?c:d,this._hashlist={},this._keys=[],this._values=[],this._cnt=0,f._isBase?this:b.Util.proxy(this)};return e.inheritsFrom(b.Class).isType("Hashtable"),e.prototype.enumerator=function(){var a=this;return new d(a)},e.prototype.copyTo=function(b,c){var d=this;if(a.isUndefined(b))throw new TypeError("target array is undefined for copyTo");a.isUndefined(c)&&(c=0),c>b.length&&(c=b.length);for(var e=d.enumerator();e.next();)c===b.length?b.push(e.current()):b[c]=e.current(),c++},e.prototype.count=function(){var a=this;return a._cnt},e.prototype.keys=function(){var a,c=this;return a=new b.collections.ArrayList(c._keys),b.Util.proxyForMethods(a,b.collections.ICollection.methods)},e.prototype.values=function(){var a,c=this;return a=new b.collections.ArrayList(c._values),b.Util.proxyForMethods(a,b.collections.ICollection.methods)},e.prototype.getItem=function(a){var b,c=this;return b=c._equalityComparer.getHashCode(a),c.contains(a)?c._values[c._hashlist[b]]:null},e.prototype.setItem=function(a,b){var c,d=this;c=d._equalityComparer.getHashCode(a),d.contains(a)?d._values[d._hashlist[c]]=b:d.add(a,b)},e.prototype.add=function(a,b){var c,d=this;c=d._equalityComparer.getHashCode(a),d.contains(a)?d.set(a,b):(d._hashlist[c]=d._values.length,d._keys.push(a),d._values.push(b),d._cnt+=1)},e.prototype.clear=function(){var a=this;a._hashlist={},a._keys=[],a._values=[],a._cnt=0},e.prototype.contains=function(b){var c,d=this;return c=d._equalityComparer.getHashCode(b),!a.isUndefined(d._hashlist[c])},e.prototype.remove=function(a){var b,c=this;if(b=c._equalityComparer.getHashCode(a),c.contains(a)){var d=c._hashlist[b];c._keys.splice(d,1),c._values.splice(d,1),delete c._hashlist[b],c._cnt-=1}},e.ensureImplements(b.collections.IDictionary,b.collections.ICollection,b.collections.IEnumerable),e}(_,netjs,netjs.collections.EqualityComparer.Default,function(a){var b=function(){var b=function(a){this.source=a,this.index=-1};return b.prototype.current=function(){var b=this;if(b.index>-1&&b.index<b.source.count())return new a.collections.DictionaryEntry(b.source._keys[b.index],b.source._values[b.index]);if(-1===b.index)return window.missingVariable;throw new Error("InvalidEnumeratorPosistion")},b.prototype.next=function(){var a=this;return a.index+=1,a.index>-1&&a.index<a.source.count()},b.prototype.reset=function(){var a=this;a.index=-1},b.prototype.entry=function(){var a=this;return a.current()},b.prototype.key=function(){var a=this;return a.current().key()},b.prototype.value=function(){var a=this;return a.current().value()},b.ensureImplements(a.collections.IDictionaryEnumerator),b}();return b}(netjs)),netjs.collections.DictionaryEntry=function(){"use strict";var a=function(a,b){this.key=a,this.value=b};return a.prototype.key=function(){var a=this;return a.key},a.prototype.value=function(){var a=this;return a.value},a}(netjs),netjs.collections.DictionaryBase=function(a,b){"use strict";var c=function d(){if(!d._isBase)throw new Error("Can't instantiate abstract classes");var a=Array.prototype.slice.call(arguments);return d._parent.constructor.apply(this,a),this._dictionary=new b.collections.Hashtable,d._isBase?this:b.Util.proxy(this)};return c.inheritsFrom(b.Class).isType("DictionaryBase"),c.prototype.enumerator=function(){var a=this;return a._dictionary.enumerator()},c.prototype.copyTo=function(a,b){var c=this;c._dictionary.copyTo(a,b)},c.prototype.count=function(){var a=this;return a._dictionary.count()},c.prototype.keys=function(){var a=this;return a._dictionary.keys()},c.prototype.values=function(){var a=this;return a._dictionary.values()},c.prototype.getItem=function(a){var b,c=this;return c.onGet(a),b=c._dictionary.getItem(a),c.onGet(a,b),b},c.prototype.setItem=function(a,b){var c=this;c.onValidate(a,b),c.onSet(a,b),c._dictionary.setItem(a,b),c.onSetComplete(a,b)},c.prototype.add=function(a,b){var c=this;c.onValidate(a,b),c.onInsert(a,b),c._dictionary.add(a,b),c.onInsertComplete(a,b)},c.prototype.clear=function(){var a=this;a.onClear(),a._dictionary.clear(),a.onClearComplete()},c.prototype.contains=function(a){var b=this;return b._dictionary.contains(a)},c.prototype.remove=function(a){var b,c=this;b=c._dictionary.getItem(a),c.onValidate(a,b),c.onRemove(a,b),c._dictionary.remove(a),c.onRemoveComplete(a,b)},c.prototype.Dictionary=function(){var a=this;return b.Util.proxyForMethods(a._dictionary,b.collections.IDictionary.methods)},c.prototype.onClear=function(){},c.prototype.onClearComplete=function(){},c.prototype.onGet=function(){},c.prototype.onInsert=function(){},c.prototype.onInsertComplete=function(){},c.prototype.onRemove=function(){},c.prototype.onRemoveComplete=function(){},c.prototype.onSet=function(){},c.prototype.onSetComplete=function(){},c.prototype.onValidate=function(){},c.ensureImplements(b.collections.IDictionary,b.collections.ICollection,b.collections.IEnumerable),c}(_,netjs);